--- postgresql-8.3.1/src/interfaces/ecpg/ecpglib/connect.c	2007-11-15 22:14:45.000000000 +0100
+++ postgresql-8.3.1/src/interfaces/ecpg/ecpglib/connect.c	2008-04-22 18:12:08.000000000 +0200
@@ -565,3 +565,13 @@
 
 	return true;
 }
+
+PGconn* ECPGget_PGconn(const char *connection_name)
+{
+	struct connection * con;
+
+	con=ecpg_get_connection(connection_name);
+	if (con==NULL) return NULL;    
+
+	return con->connection;
+}
diff -Nur -x '*.orig' -x '*~' postgresql-8.3/build-tree/postgresql-8.3.1/src/interfaces/ecpg/ecpglib/exports.txt postgresql-8.3.new/build-tree/postgresql-8.3.1/src/interfaces/ecpg/ecpglib/exports.txt
--- postgresql-8.3.1/src/interfaces/ecpg/ecpglib/exports.txt	2007-10-04 19:49:31.000000000 +0200
+++ postgresql-8.3.1/src/interfaces/ecpg/ecpglib/exports.txt	2008-04-22 18:13:09.000000000 +0200
@@ -25,3 +25,4 @@
 ECPGstatus                       23
 ECPGtrans                        24
 sqlprint                         25
+ECPGget_PGconn			 26
diff -Nur -x '*.orig' -x '*~' postgresql-8.3/build-tree/postgresql-8.3.1/src/interfaces/ecpg/ecpglib/Makefile postgresql-8.3.new/build-tree/postgresql-8.3.1/src/interfaces/ecpg/ecpglib/Makefile
--- postgresql-8.3.1/src/interfaces/ecpg/ecpglib/Makefile	2008-01-01 20:45:59.000000000 +0100
+++ postgresql-8.3.1/src/interfaces/ecpg/ecpglib/Makefile	2008-04-22 18:12:47.000000000 +0200
@@ -15,7 +15,7 @@
 
 NAME= ecpg
 SO_MAJOR_VERSION= 6
-SO_MINOR_VERSION= 0
+SO_MINOR_VERSION= 1
 DLTYPE= library
 
 override CPPFLAGS := -I../include -I$(top_srcdir)/src/interfaces/ecpg/include \
